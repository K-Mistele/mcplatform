(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6511],{7297:(e,r,s)=>{"use strict";s.d(r,{b:()=>d});var t=s(7620),i=s(7156),a=s(54568),n="horizontal",l=["horizontal","vertical"],c=t.forwardRef((e,r)=>{var s;let{decorative:t,orientation:c=n,...d}=e,o=(s=c,l.includes(s))?c:n;return(0,a.jsx)(i.sG.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:r})});c.displayName="Separator";var d=c},11794:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},25316:(e,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var s in r)Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}(r,{callServer:function(){return t.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return i.findSourceMapURL}});let t=s(35411),i=s(32795),a=s(496).createServerReference},31356:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},49358:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},50403:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,27261,23)),Promise.resolve().then(s.bind(s,12522)),Promise.resolve().then(s.bind(s,89297))},51789:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},60269:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},74711:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(98889).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},86002:(e,r,s)=>{"use strict";s.d(r,{$:()=>c});var t=s(37743),i=s(7620),a=s(2317);let n={data:void 0,error:null,isIdle:!0,isPending:!1,isSuccess:!1,isError:!1,status:"idle"},l={data:void 0,error:null,isIdle:!1,isPending:!0,isSuccess:!1,isError:!1,status:"pending"};function c(e,r={}){let[s,d]=(0,i.useState)(n),o=(0,i.useRef)(void 0),[u,h]=(0,i.useState)(void 0),[m,p]=(0,i.useTransition)(),v=(0,i.useCallback)(()=>{o.current=void 0,h(void 0),d({...n})},[]),x=(0,i.useCallback)(async(s,i={})=>{let n=new Date;return o.current=n,h(s),new Promise(l=>{p(async()=>{let c=await (0,a.gB)((0,t.Zc)([...(0,t.$r)(r.interceptors),...(0,t.$r)(i.interceptors)],{input:s},async({input:r})=>e(r).then(([e,r])=>{if(e)throw(0,a.H_)(e);return r})));o.current===n&&d({data:c.data,error:c.error,isIdle:!1,isPending:!1,isSuccess:!c.error,isError:!!c.error,status:c.error?"error":"success"}),l(c)})})},[e,...(0,t.$r)(r.interceptors)]);return(0,i.useMemo)(()=>({...m&&void 0!==o.current?l:s,executedAt:o.current,input:u,reset:v,execute:x}),[m,s,u,v,x])}},89297:(e,r,s)=>{"use strict";s.d(r,{ServerAssignmentSection:()=>y});var t=s(54568),i=s(2317),a=s(86002),n=s(11794),l=s(49358),c=s(60269),d=s(7620),o=s(51874),u=s(55868),h=s(81002),m=s(64148),p=s(47227),v=s(63353),x=s(38411);function y(e){let{walkthroughId:r,availableServersPromise:s,assignedServersPromise:y}=e,f=(0,d.use)(s),g=(0,d.use)(y),[k,b]=(0,d.useState)(g),[j,w]=(0,d.useState)(g.map(e=>e.id)),{execute:S}=(0,a.$)(u.t,{interceptors:[(0,i.L_)(()=>{o.oR.success("Server assignments updated")}),(0,i.S5)(e=>{(0,i.Mj)(e)?o.oR.error(e.message):o.oR.error("Failed to update server assignments")})]}),{execute:A}=(0,a.$)(h.F,{interceptors:[(0,i.L_)(()=>{o.oR.success("Server assignment updated")}),(0,i.S5)(e=>{(0,i.Mj)(e)?o.oR.error(e.message):o.oR.error("Failed to update server assignment")})]});(0,d.useEffect)(()=>{let e=j.map(e=>k.some(r=>r.id===e)?null:S({serverId:e,walkthroughIds:[{walkthroughId:r,displayOrder:0}]})).filter(Boolean),s=k.filter(e=>!j.includes(e.id)).map(e=>S({serverId:e.id,walkthroughIds:[]}));b(j.map(e=>{let r=k.find(r=>r.id===e);if(r)return r;let s=f.find(r=>r.id===e);return s?{...s,isEnabled:"true"}:null}).filter(e=>null!==e)),Promise.all([...e,...s])},[j]);let N=async e=>{let s=k.find(r=>r.id===e);if(!s)return;let t="true"===s.isEnabled?"false":"true";b(r=>r.map(r=>r.id===e?{...r,isEnabled:t}:r)),await A({serverId:e,walkthroughId:r,isEnabled:"true"===t})},E=f.map(e=>({label:e.name,value:e.id,icon:n.A}));return(0,t.jsxs)(v.Zp,{children:[(0,t.jsxs)(v.aR,{children:[(0,t.jsxs)(v.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"h-5 w-5"}),"Server Assignments"]}),(0,t.jsx)(v.BT,{children:"Choose which servers should offer this walkthrough"})]}),(0,t.jsxs)(v.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Select Servers"}),(0,t.jsx)(x.K,{options:E,onValueChange:w,defaultValue:j,placeholder:"Choose servers to deploy to...",className:"w-full"})]}),k.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toggle to enable/disable on specific servers"}),(0,t.jsx)("div",{className:"space-y-2",children:k.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-card border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.name}),(0,t.jsx)(m.E,{variant:"outline",className:"text-xs mt-1",children:e.slug})]}),(0,t.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>N(e.id),className:"h-8 w-8 p-0",children:"true"===e.isEnabled?(0,t.jsx)(l.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})})]},e.id))})]})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[1637,1874,2102,7261,2317,667,3615,815,587,8315,7358],()=>r(50403)),_N_E=e.O()}]);